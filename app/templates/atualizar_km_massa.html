{% extends 'base.html' %}
{% block titulo %}Atualizar KM em Massa{% endblock %}

{% block conteudo %}
<div class="container mt-4">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card shadow-sm border-0">
        <div class="card-header bg-primary text-white">
          <h1 class="h4 mb-0 d-flex align-items-center gap-2">
            <i class="fas fa-file-upload"></i> Atualiza√ß√£o de KM em Massa
          </h1>
        </div>

        <div class="card-body">
          <p class="mb-3">
            Envie um arquivo <strong>.csv</strong> com as colunas <code>placa</code> e <code>km_atual</code> para atualizar m√∫ltiplos ve√≠culos de uma s√≥ vez.
          </p>

          <form method="POST" enctype="multipart/form-data">
            {{ form.hidden_tag() }}

            <div class="mb-4">
              <label for="csv_file" class="form-label"><strong>Arquivo CSV:</strong></label>
              <input type="file" class="form-control" id="csv_file" name="csv_file" accept=".csv" required>
            </div>

            <div class="d-grid">
              <button type="submit" class="btn btn-success btn-lg">
                <i class="fas fa-cloud-upload-alt me-2"></i> Enviar e Atualizar
              </button>
            </div>
          </form>

          <hr class="my-4">

          <div>
            <h5 class="mb-2">üìã Instru√ß√µes:</h5>
            <ul class="ps-3">
              <li>O arquivo deve conter um cabe√ßalho com <code>placa</code> e <code>km_atual</code></li>
              <li>As placas devem estar exatamente como cadastradas no sistema</li>
              <li>O KM deve ser um n√∫mero inteiro, sem pontos ou v√≠rgulas</li>
            </ul>

            <div class="mt-3">
              <h6 class="mb-2">üßæ Exemplo de conte√∫do:</h6>
              <pre class="bg-light p-3 rounded border"><code>placa,km_atual
ABC1D23,150000
XYZ9H87,95800
QWE4R56,210345</code></pre>
            </div>
          </div>
        </div>
        <br>

        <div class="card-footer text-center bg-light">
          <a href="{{ url_for('main.lista_placas') }}"
            style="
          display: inline-flex;
          align-items: center;
          gap: 8px;
          padding: 10px 18px;
          background-color: #007bff;
          color: white;
          font-weight: 500;
          font-size: 16px;
          border: none;
          border-radius: 8px;
          text-decoration: none;
          box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
          transition: background-color 0.3s ease;
        "
        onmouseover="this.style.backgroundColor='#0056b3'"
        onmouseout="this.style.backgroundColor='#007bff'"
        title="Importar arquivo CSV para atualizar KM dos ve√≠culos">
        <i class="fas fa-file-upload" style="font-size: 18px;"></i>
            Voltar para a Lista de Placas
            </a>

        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
